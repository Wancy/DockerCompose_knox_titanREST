version: '2'
services:
  ldap:
    image: wancy/knox_titanrest_testing:knox
    command: /ldap.sh

  knox:
    image: wancy/knox_titanrest_testing:knox
    ports:
       - "8443:8443"
    command: /gateway.sh
    volumes:
       - ./topologies:/knox/conf/topologies
       - ./titan:/knox/data/services/titan
       - ./logs:/knox/logs
    depends_on:
       - ldap

  titan:
    image: elubow/titan-gremlin
    depends_on:
        - es1
        - cas1
    ports:
        - "8182"
  es1:
    image: elasticsearch:1.5
  cas1:
    image: elubow/cassandra
